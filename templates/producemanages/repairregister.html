{%extends "producemanages/producehome.html"%}
{%load static%}
{% block page_title%}
수리내역서 등록
{%endblock%}


{%block head_title%}
<i class="fas fa-angle-right text-base mx-1"></i>수리내역서 등록</div>
{%endblock head_title %}


{%block main_contens%}
<div class="w-full h-full pl-32 -mt-6 font-semibold pt-12 flex flex-col ">

    <div class="flex flex-col p-6 w-full">
        <div class="w-full flex justify-between">
            <div>
                <span
                    class="border-b w-full mb-3 border-gray-600 pb-2 font-semibold text-base flex flex-col">'{{finalcheck.최종검사코드}}'
                    검사결과 -
                    <span>수리내역서 등록 [적합 : {{finalcheck.적합수량}} / 부적합 : {{finalcheck.부적합수량}}]</span>
                </span>
            </div>
            <div>
                <button class="btn-link felx h-10 w-full mx-4" onclick="addTable();">
                    <div class="text-sm forn-bold"><i class="far fa-plus-square mr-2"></i>내역서추가</div>
                </button>
            </div>
        </div>

        <div class="flex ">

            <div class="w-full flex flex-col px-12 justify-center">



                <form method="POST" class="flex flex-col justify-center " enctype="multipart/form-data">
                    {% csrf_token %}


                    <div class="w-8/12 flex flex-col justify-center ">
                        <table class="table-fixed text-sm w-full -ml-12">

                            <tbody>
                                <tr>
                                    <td class="border px-4 py-2 bg-gray-200 w-40">수리내역서</td>
                                    <td class="border px-4 py-2 bg-gray-200 w-48">불량위치및자재</td>
                                    <td class="border px-4 py-2 bg-gray-200 w-48">수리내용</td>
                                    <td class="border px-4 py-2 bg-gray-200 w-48">실수리수량</td>
                                    <td class="border px-4 py-2 bg-gray-200 w-48">폐기수량</td>
                                    <td class="border px-4 py-2 bg-gray-200 w-48">특이사항</td>

                                </tr>

                                <tr>
                                    <td class="border px-4 py-2 bg-gray-200 text-center">

                                        {{finalcheck.제품}}
                                    </td>{% for field in form %}

                                    <td class="border px-4 py-2">
                                        <div class="border hover:border-gray-500 w-full">
                                            {{field}}</div>
                                        <div class="text-xs text-teal-700">{{field.help_text}}
                                        </div>
                                        {% if field.errors %}
                                        {% for error in field.errors %}
                                        <div class="text-red-700 font-light text-xs">*{{error}}</div>
                                        {% endfor %}
                                        {% endif %}

                                        {%endfor%}
                                    </td>
                                </tr>




                            </tbody>
                        </table>
                    </div>

                    <button class="btn-link felx mt-5 h-10 w-2/4   ml-20">
                        <div class="text-sm forn-bold">수리내역서등록</div>
                    </button>
                </form>
            </div>
        </div>
    </div>

</div>
<script>
    function addTable() {
        var context = `
        <tr>
            <td class= "border px-4 py-2 bg-gray-200 text-center">
                <i class="fas fa-plus fa-2x"></i>
        </td >
        <td class="border px-4 py-2">
            <div class="border hover:border-gray-500 w-full">
                <textarea name="불량위치및자재" cols="40" rows="10" maxlength="300" required=""
                    id="id_불량위치및자재"></textarea></div>
            <div class="text-xs text-teal-700">
            </div>
        </td>
        <td class="border px-4 py-2">
            <div class="border hover:border-gray-500 w-full">
                <textarea name="수리내용" cols="40" rows="10" maxlength="300"
                    id="id_수리내용"></textarea></div>
            <div class="text-xs text-teal-700">
            </div>
        </td>
        <td class="border px-4 py-2">
            <div class="border hover:border-gray-500 w-full">
                <input type="number" name="실수리수량" size="10" min="0" required=""
                    id="id_실수리수량"></div>
            <div class="text-xs text-teal-700">
            </div>
        </td>
        <td class="border px-4 py-2">
            <div class="border hover:border-gray-500 w-full">
                <input type="number" name="폐기수량" size="10" min="0" required="" id="id_폐기수량">
            </div>
            <div class="text-xs text-teal-700">
            </div>
        </td>
        <td class="border px-4 py-2">
            <div class="border hover:border-gray-500 w-full">
                <textarea name="특이사항" cols="40" rows="10" maxlength="300"
                    id="id_특이사항"></textarea></div>
            <div class="text-xs text-teal-700">
            </div>
        </td> </tr>`;

        $("tbody").append(context)


    };
</script>
{%endblock main_contens %}